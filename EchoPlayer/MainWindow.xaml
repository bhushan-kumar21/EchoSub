<Window x:Class="MediaPlayer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Media Player" Height="600" Width="900"
        Background="#1E1E1E">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="100"/>
        </Grid.RowDefinitions>

        <!-- Menu Bar -->
        <Menu Grid.Row="0" Background="#2D2D30">
            <MenuItem Header="File" Foreground="White">
                <MenuItem Header="Open File" Click="OpenFile_Click"/>
                <MenuItem Header="Exit" Click="Exit_Click"/>
            </MenuItem>
        </Menu>

        <!-- Video Display Area -->
        <Grid Grid.Row="1" Background="Black">
            <MediaElement x:Name="mediaPlayer" 
                          LoadedBehavior="Manual"
                          UnloadedBehavior="Stop"
                          ScrubbingEnabled="True"
                          MediaOpened="MediaPlayer_MediaOpened"
                          MediaEnded="MediaPlayer_MediaEnded"/>

            <!-- Overlay for no media loaded -->
            <TextBlock x:Name="noMediaText"
                       Text="No media loaded. Click File > Open to select a video."
                       Foreground="#808080"
                       FontSize="16"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
        </Grid>

        <!-- Controls Panel -->
        <Grid Grid.Row="2" Background="#252526">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Progress Slider -->
            <Grid Grid.Row="0" Margin="10,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="currentTimeText" 
                           Text="00:00:00" 
                           Foreground="White"
                           VerticalAlignment="Center"
                           Grid.Column="0"
                           Margin="0,0,10,0"/>

                <Slider x:Name="progressSlider" 
                        Grid.Column="1"
                        Minimum="0"
                        Maximum="100"
                        VerticalAlignment="Center"
                        Thumb.DragStarted="ProgressSlider_DragStarted"
                        Thumb.DragCompleted="ProgressSlider_DragCompleted"
                        ValueChanged="ProgressSlider_ValueChanged"/>

                <TextBlock x:Name="totalTimeText" 
                           Text="00:00:00" 
                           Foreground="White"
                           VerticalAlignment="Center"
                           Grid.Column="2"
                           Margin="10,0,0,0"/>
            </Grid>

            <!-- Playback Controls -->
            <StackPanel Grid.Row="1" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">

                <Button x:Name="playPauseButton" 
                        Content="▶" 
                        Width="50" 
                        Height="50" 
                        Margin="5"
                        FontSize="20"
                        Click="PlayPause_Click"
                        IsEnabled="False"/>

                <Button Content="⏹" 
                        Width="50" 
                        Height="50" 
                        Margin="5"
                        FontSize="20"
                        Click="Stop_Click"
                        IsEnabled="{Binding IsEnabled, ElementName=playPauseButton}"/>

                <Button Content="⏪" 
                        Width="50" 
                        Height="50" 
                        Margin="5"
                        FontSize="16"
                        Click="Rewind_Click"
                        IsEnabled="{Binding IsEnabled, ElementName=playPauseButton}"/>

                <Button Content="⏩" 
                        Width="50" 
                        Height="50" 
                        Margin="5"
                        FontSize="16"
                        Click="Forward_Click"
                        IsEnabled="{Binding IsEnabled, ElementName=playPauseButton}"/>

                <!-- Volume Control -->
                <StackPanel Orientation="Horizontal" Margin="20,0,0,0" VerticalAlignment="Center">
                    <TextBlock Text="🔊" 
                               Foreground="White" 
                               FontSize="20"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>
                    <Slider x:Name="volumeSlider" 
                            Width="100"
                            Minimum="0"
                            Maximum="1"
                            Value="0.5"
                            VerticalAlignment="Center"
                            ValueChanged="VolumeSlider_ValueChanged"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>